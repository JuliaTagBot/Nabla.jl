<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · Nabla.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/invenia.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Nabla.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li class="current"><a class="toctext" href="api.html">API</a><ul class="internal"></ul></li><li><a class="toctext" href="custom.html">Custom Sensitivities</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="api.html">API</a></li></ul><a class="edit-page" href="https://github.com/invenia/Nabla.jl/blob/master/docs/src/pages/api.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>API</span><a class="fa fa-bars" href="#"></a></div></header><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.Arg" href="#Nabla.Arg"><code>Nabla.Arg</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Used to flag which argument is being specified in x̄. </p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/core.jl#L135">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.Branch" href="#Nabla.Branch"><code>Nabla.Branch</code></a> — <span class="docstring-category">Type</span>.</div><div><p>A Branch is a Node with parents (args).</p><p>Fields: val - the value of this node produced in the forward pass. f - the function used to generate this Node. args - Values indicating which elements in the tape will require updating by this node. tape - The Tape to which this Branch is assigned. pos - the location of this Branch in the tape to which it is assigned.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/core.jl#L55-L64">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.Leaf" href="#Nabla.Leaf"><code>Nabla.Leaf</code></a> — <span class="docstring-category">Type</span>.</div><div><p>An element at the &#39;bottom&#39; of the computational graph.</p><p>Fields: val - the value of the node. tape - The Tape to which this Leaf is assigned. pos - the location of this Leaf in the tape to which it is assigned.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/core.jl#L34-L41">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.Node" href="#Nabla.Node"><code>Nabla.Node</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Basic unit on the computational graph.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/core.jl#L6">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.Tape" href="#Nabla.Tape"><code>Nabla.Tape</code></a> — <span class="docstring-category">Type</span>.</div><div><p>A topologically ordered collection of Nodes. </p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/core.jl#L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.backward_fdm-Tuple{Int64,Vararg{Any,N} where N}" href="#Nabla.backward_fdm-Tuple{Int64,Vararg{Any,N} where N}"><code>Nabla.backward_fdm</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">backward_fdm(p::Int, ...)
forward_fdm(p::Int, ...)
central_fdm(p::Int, ...)</code></pre><p>Construct a backward, forward, or central finite-difference method of order <code>p</code>. See <code>fdm</code> for further details.</p><p><strong>Arguments</strong></p><ul><li><p><code>p::Int</code>: Order of the method.</p></li></ul><p>Further takes, in the following order, the arguments <code>q</code>, <code>ε</code>, <code>M</code>, and <code>report</code> from <code>fdm</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/finite_differencing.jl#L222-L234">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.check_errs-Union{Tuple{Any,Union{AbstractArray{#s1,N} where N where #s1&lt;:Real, Real},T,T,Real,Real}, Tuple{Any,Union{AbstractArray{#s1,N} where N where #s1&lt;:Real, Real},T,T,Real}, Tuple{Any,Union{AbstractArray{#s1,N} where N where #s1&lt;:Real, Real},T,T}, Tuple{T}} where T" href="#Nabla.check_errs-Union{Tuple{Any,Union{AbstractArray{#s1,N} where N where #s1&lt;:Real, Real},T,T,Real,Real}, Tuple{Any,Union{AbstractArray{#s1,N} where N where #s1&lt;:Real, Real},T,T,Real}, Tuple{Any,Union{AbstractArray{#s1,N} where N where #s1&lt;:Real, Real},T,T}, Tuple{T}} where T"><code>Nabla.check_errs</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">check_errs(
    f,
    ȳ::∇ArrayOrScalar,
    x::T,
    v::T,
    ε_abs::∇Scalar=1e-13,
    ε_rel::∇Scalar=1e-7
)::Bool where T</code></pre><p>Check that the difference between finite differencing directional derivative estimation and RMAD directional derivative computation for function <code>f</code> at <code>x</code> in direction <code>v</code>, for both allocating and in-place modes, has absolute and relative errors of <code>ε_abs</code> and <code>ε_rel</code> respectively, when scaled by reverse-mode sensitivity <code>ȳ</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/finite_differencing.jl#L71-L85">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.fdm-Tuple{Array{#s135,1} where #s135&lt;:Real,Int64}" href="#Nabla.fdm-Tuple{Array{#s135,1} where #s135&lt;:Real,Int64}"><code>Nabla.fdm</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">function fdm(
    grid::Vector{&lt;:∇Scalar},
    q::Int;
    ε::∇Scalar=eps(),
    M::∇Scalar=1e6,
    report::Bool=false
)</code></pre><p>Construct a function <code>method(f::Function, x::∇Scalar, h::∇Scalar=ĥ)</code> that takes in a function <code>f</code>, a point <code>x</code> in the domain of <code>f</code>, and optionally a step size <code>h</code>, and estimates the <code>q</code>&#39;th order derivative of <code>f</code> at <code>x</code> with a <code>length(grid)</code>&#39;th order finite-difference method.</p><p><strong>Arguments</strong></p><ul><li><p><code>grid::Vector{&lt;:∇Scalar}</code>: Relative spacing of samples of <code>f</code> that are used by the method.   The length of <code>grid</code> determines the order of the method.</p></li><li><p><code>q::Int</code>: Order of the derivative to estimate. <code>q</code> must be strictly less than the order   of the method.</p></li></ul><p><strong>Keywords</strong></p><ul><li><p><code>ε::∇Scalar=eps()</code>: Absolute roundoff error of the function evaluations.</p></li><li><p><code>M::∇Scalar=1e6</code>: Assumed upper bound of <code>f</code> and all its derivatives at <code>x</code>.</p></li><li><p><code>report::Bool=false</code>: Also return an instance of <code>FDMReport</code> containing information   about the method constructed.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/finite_differencing.jl#L151-L176">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.preprocess-Tuple{Any,Vararg{Any,N} where N}" href="#Nabla.preprocess-Tuple{Any,Vararg{Any,N} where N}"><code>Nabla.preprocess</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">preprocess(::Function, args...)</code></pre><p>Default implementation of preprocess returns an empty Tuple. Individual sensitivity implementations should add methods specific to their use case. The output is passed in to <code>∇</code> as the 3rd or 4th argument in the new-x̄ and update-x̄ cases respectively.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/sensitivity.jl#L185-L191">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.∇" href="#Nabla.∇"><code>Nabla.∇</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">∇(f::Function)</code></pre><p>Returns a function which, when evaluated with arguments that are accepted by <code>f</code>, will return the gradient w.r.t. each of the arguments.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/core.jl#L160-L165">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.∇-Union{Tuple{Nabla.Node{T},T}, Tuple{T}} where T" href="#Nabla.∇-Union{Tuple{Nabla.Node{T},T}, Tuple{T}} where T"><code>Nabla.∇</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">∇(y::Node{&lt;:∇Scalar})
∇(y::Node{T}, ȳ::T) where T</code></pre><p>Return a <code>Tape</code> object which can be indexed using <code>Node</code>s, each element of which contains the result of multiplying <code>ȳ</code> by the transpose of the Jacobian of the function specified by the <code>Tape</code> object in <code>y</code>. If <code>y</code> is a scalar and <code>ȳ = 1</code> then this is equivalent to computing the gradient of <code>y</code> w.r.t. each of the elements in the <code>Tape</code>.</p><pre><code class="language-none">∇(f::Function, ::Type{Arg{N}}, p, y, ȳ, x...)
∇(x̄, f::Function, ::Type{Arg{N}}, p, y, ȳ, x...)</code></pre><p>To implement a new reverse-mode sensitivity for the <code>N^{th}</code> argument of function <code>f</code>. p is the output of <code>preprocess</code>. <code>x1</code>, <code>x2</code>,... are the inputs to the function, <code>y</code> is its output and <code>ȳ</code> the reverse-mode sensitivity of <code>y</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/core.jl#L138-L154">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.@explicit_intercepts-Tuple{Union{Expr, Symbol},Expr,Expr}" href="#Nabla.@explicit_intercepts-Tuple{Union{Expr, Symbol},Expr,Expr}"><code>Nabla.@explicit_intercepts</code></a> — <span class="docstring-category">Macro</span>.</div><div><pre><code class="language-none">@explicit_intercepts(f::Symbol, type_tuple::Expr, is_node::Expr)
@explicit_intercepts(f::Symbol, type_tuple::Expr)</code></pre><p>Create a collection of methods which intecept the function calls to <code>f</code> in which at least one argument is a <code>Node</code>. Types of arguments are specified by the type tuple expression in <code>type_tuple</code>. If there are arguments which are not differentiable, they can be specified by providing a boolean vector <code>is_node</code> which indicates those arguments that are differentiable with <code>true</code> values and those which are not as <code>false</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/sensitivity.jl#L26-L35">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.@union_intercepts-Tuple{Symbol,Expr,Expr}" href="#Nabla.@union_intercepts-Tuple{Symbol,Expr,Expr}"><code>Nabla.@union_intercepts</code></a> — <span class="docstring-category">Macro</span>.</div><div><pre><code class="language-none">@union_intercepts f type_tuple invoke_type_tuple</code></pre><p>Interception strategy based on adding a method to <code>f</code> which accepts the union of each of the types specified by <code>type_tuple</code>. If none of the arguments are <code>Node</code>s then the method of <code>f</code> specified by <code>invoke_type_tuple</code> is invoked.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/sensitivity.jl#L4-L10">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Nabla.@unionise-Tuple{Any}" href="#Nabla.@unionise-Tuple{Any}"><code>Nabla.@unionise</code></a> — <span class="docstring-category">Macro</span>.</div><div><pre><code class="language-none">@unionise code</code></pre><p>Transform code such that each function definition accepts <code>Node</code> objects as arguments, without effecting dispatch in other ways.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Nabla.jl/blob/1269c26bb45eb996940816bdf630d12c428a7bbc/src/code_transformation/differentiable.jl#L98-L103">source</a></section><footer><hr/><a class="previous" href="../index.html"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="custom.html"><span class="direction">Next</span><span class="title">Custom Sensitivities</span></a></footer></article></body></html>
